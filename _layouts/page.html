<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta content="en-au" http-equiv="Content-Language" />
		<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
		<title>{{ page.title }} - Viking Code</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<link rel="stylesheet" type="text/css" href="/css/page.css" />
	</head>
	<body>
		<div id="container">
			<header><a href="/">Viking Code</a></header>
			<nav>
				<img src="/images/logo.png" style="width:200px;" />
				<ul></ul>
				
				<div id="page-navigation"> 
					<div class="left"> {% if page.previous.url %} <a href="{{page.previous.url}}" title="Previous Post: {{page.previous.title}}">&larr; {{page.previous.title}}</a> {% endif %} </div> 
					<div class="right"> {% if page.next.url %} <a href="{{page.next.url}}" title="next Post: {{page.next.title}}">{{page.next.title}} &rarr; </a> {% endif %} </div> 
					<div class="clear">&nbsp;</div>
				</div> 
			</nav>
			<section id="content">
				<h1>{{page.title}}</h1>
				{{content}}
			</section>
		</div>
	</body>
	<script>
	$(document).ready(function(){
		$("section h1, section h2, section h3").each(function()
		{
			$("nav ul:first").append("<li class='tag-" + this.nodeName.toLowerCase() + "'><a href='#" + $(this).text().toLowerCase().replace(/ /g, '-').replace(/[^\w-]+/g,'') + "'>" + $(this).text() + "</a></li>");
			$(this).attr("id",$(this).text().toLowerCase().replace(/ /g, '-').replace(/[^\w-]+/g,''));
			$("nav ul li:first-child a").parent().addClass("active");
		});

		$("nav ul li").on("click", "a", function(event) 
		{
			var position = $($(this).attr("href")).offset().top - 190;
			$("html, body").animate({scrollTop: position}, 400);
			$("nav ul li a").parent().removeClass("active");
			$(this).parent().addClass("active");
			event.preventDefault();    
		});
	});
	</script>
</html>